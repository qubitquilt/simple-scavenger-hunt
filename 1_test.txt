2025-10-12T01:31:48.7544569Z Current runner version: '2.328.0'
2025-10-12T01:31:48.7567963Z ##[group]Runner Image Provisioner
2025-10-12T01:31:48.7569084Z Hosted Compute Agent
2025-10-12T01:31:48.7569741Z Version: 20250912.392
2025-10-12T01:31:48.7570331Z Commit: d921fda672a98b64f4f82364647e2f10b2267d0b
2025-10-12T01:31:48.7571197Z Build Date: 2025-09-12T15:23:14Z
2025-10-12T01:31:48.7571796Z ##[endgroup]
2025-10-12T01:31:48.7572349Z ##[group]Operating System
2025-10-12T01:31:48.7572981Z Ubuntu
2025-10-12T01:31:48.7573496Z 24.04.3
2025-10-12T01:31:48.7573973Z LTS
2025-10-12T01:31:48.7574521Z ##[endgroup]
2025-10-12T01:31:48.7575044Z ##[group]Runner Image
2025-10-12T01:31:48.7575554Z Image: ubuntu-24.04
2025-10-12T01:31:48.7576169Z Version: 20250929.60.1
2025-10-12T01:31:48.7577189Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250929.60/images/ubuntu/Ubuntu2404-Readme.md
2025-10-12T01:31:48.7579115Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250929.60
2025-10-12T01:31:48.7580177Z ##[endgroup]
2025-10-12T01:31:48.7581310Z ##[group]GITHUB_TOKEN Permissions
2025-10-12T01:31:48.7583166Z Contents: read
2025-10-12T01:31:48.7583778Z Metadata: read
2025-10-12T01:31:48.7584442Z Packages: read
2025-10-12T01:31:48.7584932Z ##[endgroup]
2025-10-12T01:31:48.7587581Z Secret source: Actions
2025-10-12T01:31:48.7588886Z Prepare workflow directory
2025-10-12T01:31:48.7911816Z Prepare all required actions
2025-10-12T01:31:48.7949413Z Getting action download info
2025-10-12T01:31:49.0694809Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-10-12T01:31:49.2174115Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-10-12T01:31:49.4341076Z Complete job name: test
2025-10-12T01:31:49.5018915Z ##[group]Run actions/checkout@v4
2025-10-12T01:31:49.5019779Z with:
2025-10-12T01:31:49.5020327Z   repository: qubitquilt/simple-scavenger-hunt
2025-10-12T01:31:49.5021057Z   token: ***
2025-10-12T01:31:49.5021468Z   ssh-strict: true
2025-10-12T01:31:49.5021858Z   ssh-user: git
2025-10-12T01:31:49.5022263Z   persist-credentials: true
2025-10-12T01:31:49.5022712Z   clean: true
2025-10-12T01:31:49.5023120Z   sparse-checkout-cone-mode: true
2025-10-12T01:31:49.5023603Z   fetch-depth: 1
2025-10-12T01:31:49.5023992Z   fetch-tags: false
2025-10-12T01:31:49.5024398Z   show-progress: true
2025-10-12T01:31:49.5024811Z   lfs: false
2025-10-12T01:31:49.5025196Z   submodules: false
2025-10-12T01:31:49.5025603Z   set-safe-directory: true
2025-10-12T01:31:49.5026284Z ##[endgroup]
2025-10-12T01:31:49.6085276Z Syncing repository: qubitquilt/simple-scavenger-hunt
2025-10-12T01:31:49.6087033Z ##[group]Getting Git version info
2025-10-12T01:31:49.6088173Z Working directory is '/home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt'
2025-10-12T01:31:49.6089613Z [command]/usr/bin/git version
2025-10-12T01:31:49.6189308Z git version 2.51.0
2025-10-12T01:31:49.6215681Z ##[endgroup]
2025-10-12T01:31:49.6231314Z Temporarily overriding HOME='/home/runner/work/_temp/ad3ef57a-7b1d-4d01-bd13-f3e983b24cd5' before making global git config changes
2025-10-12T01:31:49.6232814Z Adding repository directory to the temporary git global config as a safe directory
2025-10-12T01:31:49.6236841Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:31:49.6275012Z Deleting the contents of '/home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt'
2025-10-12T01:31:49.6278174Z ##[group]Initializing the repository
2025-10-12T01:31:49.6283421Z [command]/usr/bin/git init /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:31:49.6429458Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-10-12T01:31:49.6430523Z hint: is subject to change. To configure the initial branch name to use in all
2025-10-12T01:31:49.6431415Z hint: of your new repositories, which will suppress this warning, call:
2025-10-12T01:31:49.6432321Z hint:
2025-10-12T01:31:49.6432765Z hint: 	git config --global init.defaultBranch <name>
2025-10-12T01:31:49.6433466Z hint:
2025-10-12T01:31:49.6433999Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-10-12T01:31:49.6434861Z hint: 'development'. The just-created branch can be renamed via this command:
2025-10-12T01:31:49.6435530Z hint:
2025-10-12T01:31:49.6435891Z hint: 	git branch -m <name>
2025-10-12T01:31:49.6436319Z hint:
2025-10-12T01:31:49.6436875Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-10-12T01:31:49.6449888Z Initialized empty Git repository in /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt/.git/
2025-10-12T01:31:49.6460654Z [command]/usr/bin/git remote add origin https://github.com/qubitquilt/simple-scavenger-hunt
2025-10-12T01:31:49.6496531Z ##[endgroup]
2025-10-12T01:31:49.6497230Z ##[group]Disabling automatic garbage collection
2025-10-12T01:31:49.6500746Z [command]/usr/bin/git config --local gc.auto 0
2025-10-12T01:31:49.6528809Z ##[endgroup]
2025-10-12T01:31:49.6529486Z ##[group]Setting up auth
2025-10-12T01:31:49.6535203Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-12T01:31:49.6564658Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-12T01:31:49.6923511Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-12T01:31:49.6951867Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-12T01:31:49.7179011Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-10-12T01:31:49.7221931Z ##[endgroup]
2025-10-12T01:31:49.7223114Z ##[group]Fetching the repository
2025-10-12T01:31:49.7232180Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +28756fc8e20099d7f51cf8fe87d955c75a0e80d3:refs/remotes/pull/9/merge
2025-10-12T01:31:50.0085409Z From https://github.com/qubitquilt/simple-scavenger-hunt
2025-10-12T01:31:50.0086323Z  * [new ref]         28756fc8e20099d7f51cf8fe87d955c75a0e80d3 -> pull/9/merge
2025-10-12T01:31:50.0116732Z ##[endgroup]
2025-10-12T01:31:50.0117408Z ##[group]Determining the checkout info
2025-10-12T01:31:50.0120636Z ##[endgroup]
2025-10-12T01:31:50.0124656Z [command]/usr/bin/git sparse-checkout disable
2025-10-12T01:31:50.0180417Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-10-12T01:31:50.0264293Z ##[group]Checking out the ref
2025-10-12T01:31:50.0266255Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/9/merge
2025-10-12T01:31:50.0305604Z Note: switching to 'refs/remotes/pull/9/merge'.
2025-10-12T01:31:50.0307989Z 
2025-10-12T01:31:50.0308880Z You are in 'detached HEAD' state. You can look around, make experimental
2025-10-12T01:31:50.0310469Z changes and commit them, and you can discard any commits you make in this
2025-10-12T01:31:50.0311497Z state without impacting any branches by switching back to a branch.
2025-10-12T01:31:50.0312071Z 
2025-10-12T01:31:50.0312431Z If you want to create a new branch to retain commits you create, you may
2025-10-12T01:31:50.0313284Z do so (now or later) by using -c with the switch command. Example:
2025-10-12T01:31:50.0313819Z 
2025-10-12T01:31:50.0314155Z   git switch -c <new-branch-name>
2025-10-12T01:31:50.0315026Z 
2025-10-12T01:31:50.0315366Z Or undo this operation with:
2025-10-12T01:31:50.0315886Z 
2025-10-12T01:31:50.0316184Z   git switch -
2025-10-12T01:31:50.0316570Z 
2025-10-12T01:31:50.0317068Z Turn off this advice by setting config variable advice.detachedHead to false
2025-10-12T01:31:50.0317679Z 
2025-10-12T01:31:50.0318715Z HEAD is now at 28756fc Merge dca3e62cb5445138bca655d85a06fda02ccadce2 into a1fc6543fb19679e6c0b2f27c8e0ae8b0a756ed8
2025-10-12T01:31:50.0321636Z ##[endgroup]
2025-10-12T01:31:50.0354329Z [command]/usr/bin/git log -1 --format=%H
2025-10-12T01:31:50.0378041Z 28756fc8e20099d7f51cf8fe87d955c75a0e80d3
2025-10-12T01:31:50.0676108Z ##[group]Run actions/setup-node@v4
2025-10-12T01:31:50.0676837Z with:
2025-10-12T01:31:50.0677239Z   node-version: 18
2025-10-12T01:31:50.0677714Z   cache: npm
2025-10-12T01:31:50.0678136Z   always-auth: false
2025-10-12T01:31:50.0678924Z   check-latest: false
2025-10-12T01:31:50.0679727Z   token: ***
2025-10-12T01:31:50.0680155Z ##[endgroup]
2025-10-12T01:31:50.2711136Z Found in cache @ /opt/hostedtoolcache/node/18.20.8/x64
2025-10-12T01:31:50.2714487Z ##[group]Environment details
2025-10-12T01:31:52.5112776Z node: v18.20.8
2025-10-12T01:31:52.5113391Z npm: 10.8.2
2025-10-12T01:31:52.5113784Z yarn: 1.22.22
2025-10-12T01:31:52.5115041Z ##[endgroup]
2025-10-12T01:31:52.5139212Z [command]/opt/hostedtoolcache/node/18.20.8/x64/bin/npm config get cache
2025-10-12T01:31:52.8390617Z /home/runner/.npm
2025-10-12T01:31:52.9359690Z npm cache is not found
2025-10-12T01:31:52.9474068Z ##[group]Run npm ci
2025-10-12T01:31:52.9474360Z [36;1mnpm ci[0m
2025-10-12T01:31:52.9583008Z shell: /usr/bin/bash -e {0}
2025-10-12T01:31:52.9583273Z ##[endgroup]
2025-10-12T01:31:59.2657502Z npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-10-12T01:32:00.0168288Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-10-12T01:32:01.4411916Z npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
2025-10-12T01:32:01.4611606Z npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-10-12T01:32:01.9068180Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-10-12T01:32:02.0436236Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-10-12T01:32:04.1979052Z npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-10-12T01:32:15.3816187Z 
2025-10-12T01:32:15.3820454Z added 752 packages, and audited 753 packages in 22s
2025-10-12T01:32:15.3820941Z 
2025-10-12T01:32:15.3821146Z 184 packages are looking for funding
2025-10-12T01:32:15.3821530Z   run `npm fund` for details
2025-10-12T01:32:15.4715215Z 
2025-10-12T01:32:15.4720502Z 1 critical severity vulnerability
2025-10-12T01:32:15.4720965Z 
2025-10-12T01:32:15.4721240Z To address all issues, run:
2025-10-12T01:32:15.4721727Z   npm audit fix --force
2025-10-12T01:32:15.4722020Z 
2025-10-12T01:32:15.4722298Z Run `npm audit` for details.
2025-10-12T01:32:15.5325332Z ##[group]Run npm test
2025-10-12T01:32:15.5325786Z [36;1mnpm test[0m
2025-10-12T01:32:15.5360420Z shell: /usr/bin/bash -e {0}
2025-10-12T01:32:15.5360669Z ##[endgroup]
2025-10-12T01:32:15.6913437Z 
2025-10-12T01:32:15.6914295Z > simple-scavenger-hunt@0.1.0 test
2025-10-12T01:32:15.6914818Z > jest
2025-10-12T01:32:15.6915002Z 
2025-10-12T01:32:17.6748033Z FAIL __tests__/api.admin.events.test.ts
2025-10-12T01:32:17.6854532Z   ● Console
2025-10-12T01:32:17.6854752Z 
2025-10-12T01:32:17.6854899Z     console.log
2025-10-12T01:32:17.6855325Z       Service key loaded: false
2025-10-12T01:32:17.6855640Z 
2025-10-12T01:32:17.6855918Z       at log (app/api/admin/events/route.ts:15:13)
2025-10-12T01:32:17.6856271Z 
2025-10-12T01:32:17.6856418Z     console.log
2025-10-12T01:32:17.6856813Z       Key prefix: undefined...
2025-10-12T01:32:17.6857049Z 
2025-10-12T01:32:17.6857304Z       at log (app/api/admin/events/route.ts:16:13)
2025-10-12T01:32:17.6857608Z 
2025-10-12T01:32:17.6858264Z   ● admin events api › GET returns events
2025-10-12T01:32:17.6859109Z 
2025-10-12T01:32:17.6859793Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:32:17.6861052Z 
2025-10-12T01:32:17.6867478Z     - Expected  - 9
2025-10-12T01:32:17.6867899Z     + Received  + 1
2025-10-12T01:32:17.6868110Z 
2025-10-12T01:32:17.6868250Z       Object {
2025-10-12T01:32:17.6868951Z     -   "events": Array [
2025-10-12T01:32:17.6869379Z     -     Object {
2025-10-12T01:32:17.6869801Z     -       "createdAt": Any<String>,
2025-10-12T01:32:17.6870291Z     -       "date": Any<String>,
2025-10-12T01:32:17.6870722Z     -       "description": "",
2025-10-12T01:32:17.6871101Z     -       "id": "1",
2025-10-12T01:32:17.6871437Z     -       "title": "E",
2025-10-12T01:32:17.6871775Z     -     },
2025-10-12T01:32:17.6872073Z     -   ],
2025-10-12T01:32:17.6872498Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:32:17.6872978Z       }
2025-10-12T01:32:17.6873144Z 
2025-10-12T01:32:17.6874169Z     [0m [90m 33 |[39m     [33m;[39m(createAdminSupabaseClient [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockReturnValue(admin)
2025-10-12T01:32:17.6875489Z      [90m 34 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m()
2025-10-12T01:32:17.6877909Z     [31m[1m>[22m[39m[90m 35 |[39m     expect(res)[33m.[39mtoEqual({ events[33m:[39m [{ id[33m:[39m [32m'1'[39m[33m,[39m title[33m:[39m [32m'E'[39m[33m,[39m description[33m:[39m [32m''[39m[33m,[39m date[33m:[39m expect[33m.[39many([33mString[39m)[33m,[39m createdAt[33m:[39m expect[33m.[39many([33mString[39m) }] })
2025-10-12T01:32:17.6879922Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:32:17.6880460Z      [90m 36 |[39m   })
2025-10-12T01:32:17.6880865Z      [90m 37 |[39m
2025-10-12T01:32:17.6881716Z      [90m 38 |[39m   it([32m'POST returns 401 when not admin'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:32:17.6882241Z 
2025-10-12T01:32:17.6882603Z       at Object.toEqual (__tests__/api.admin.events.test.ts:35:17)
2025-10-12T01:32:17.6882992Z 
2025-10-12T01:32:17.7244989Z FAIL __tests__/api.admin.questions.test.ts
2025-10-12T01:32:17.7247723Z   ● admin questions api › GET returns questions filtered by eventId
2025-10-12T01:32:17.7249742Z 
2025-10-12T01:32:17.7251304Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:32:17.7253332Z 
2025-10-12T01:32:17.7254912Z     - Expected  - 5
2025-10-12T01:32:17.7256681Z     + Received  + 1
2025-10-12T01:32:17.7258122Z 
2025-10-12T01:32:17.7259773Z       Object {
2025-10-12T01:32:17.7262013Z     -   "questions": Array [
2025-10-12T01:32:17.7274428Z     -     Object {
2025-10-12T01:32:17.7274814Z     -       "id": "q1",
2025-10-12T01:32:17.7275175Z     -     },
2025-10-12T01:32:17.7275485Z     -   ],
2025-10-12T01:32:17.7277381Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:32:17.7281849Z       }
2025-10-12T01:32:17.7285745Z 
2025-10-12T01:32:17.7287282Z     [0m [90m 33 |[39m     [36mconst[39m fakeReq [33m=[39m { url[33m:[39m [32m'https://example.com/?eventId=ev1'[39m }
2025-10-12T01:32:17.7289304Z      [90m 34 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m(fakeReq)
2025-10-12T01:32:17.7292513Z     [31m[1m>[22m[39m[90m 35 |[39m     expect(res)[33m.[39mtoEqual({ questions[33m:[39m [{ id[33m:[39m [32m'q1'[39m }] })
2025-10-12T01:32:17.7300175Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:32:17.7301035Z      [90m 36 |[39m   })
2025-10-12T01:32:17.7301684Z      [90m 37 |[39m
2025-10-12T01:32:17.7302759Z      [90m 38 |[39m   it([32m'POST validates required fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:32:17.7303917Z 
2025-10-12T01:32:17.7330977Z       at Object.toEqual (__tests__/api.admin.questions.test.ts:35:17)
2025-10-12T01:32:17.7331883Z 
2025-10-12T01:32:17.7333016Z   ● admin questions api › POST returns 404 when event not found
2025-10-12T01:32:17.7333890Z 
2025-10-12T01:32:17.7334462Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:32:17.7335097Z 
2025-10-12T01:32:17.7335899Z     - Expected  - 1
2025-10-12T01:32:17.7336863Z     + Received  + 1
2025-10-12T01:32:17.7345248Z 
2025-10-12T01:32:17.7345451Z       Object {
2025-10-12T01:32:17.7345873Z     -   "error": "Event not found",
2025-10-12T01:32:17.7346508Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:32:17.7346950Z       }
2025-10-12T01:32:17.7347118Z 
2025-10-12T01:32:17.7348770Z     [0m [90m 57 |[39m     [36mconst[39m req [33m=[39m { json[33m:[39m [36masync[39m () [33m=>[39m ({ eventId[33m:[39m [32m'ev1'[39m[33m,[39m content[33m:[39m [32m'c'[39m[33m,[39m expectedAnswer[33m:[39m [32m'e'[39m }) }
2025-10-12T01:32:17.7350274Z      [90m 58 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mPOST[39m(req)
2025-10-12T01:32:17.7351411Z     [31m[1m>[22m[39m[90m 59 |[39m     expect(res)[33m.[39mtoEqual({ error[33m:[39m [32m'Event not found'[39m })
2025-10-12T01:32:17.7352320Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:32:17.7352897Z      [90m 60 |[39m   })
2025-10-12T01:32:17.7353430Z      [90m 61 |[39m
2025-10-12T01:32:17.7354207Z      [90m 62 |[39m   it([32m'PUT requires id'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:32:17.7354696Z 
2025-10-12T01:32:17.7355074Z       at Object.toEqual (__tests__/api.admin.questions.test.ts:59:17)
2025-10-12T01:32:17.7355512Z 
2025-10-12T01:32:17.9249922Z FAIL __tests__/api.admin.users.test.ts
2025-10-12T01:32:17.9251284Z   ● admin users api › computes metrics correctly
2025-10-12T01:32:17.9251844Z 
2025-10-12T01:32:17.9252895Z     TypeError: Cannot read properties of undefined (reading 'length')
2025-10-12T01:32:17.9253374Z 
2025-10-12T01:32:17.9254203Z     [0m [90m 41 |[39m     [36mconst[39m req [33m=[39m { url[33m:[39m [32m'https://example.com/?eventId=e1'[39m }
2025-10-12T01:32:17.9255376Z      [90m 42 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m(req)
2025-10-12T01:32:17.9256558Z     [31m[1m>[22m[39m[90m 43 |[39m     expect(res[33m.[39musers[33m.[39mlength)[33m.[39mtoBe([35m1[39m)
2025-10-12T01:32:17.9257517Z      [90m    |[39m                      [31m[1m^[22m[39m
2025-10-12T01:32:17.9258719Z      [90m 44 |[39m     expect(res[33m.[39mmetrics[33m.[39mtotalUsers)[33m.[39mtoBe([35m1[39m)
2025-10-12T01:32:17.9259479Z      [90m 45 |[39m   })
2025-10-12T01:32:17.9259907Z      [90m 46 |[39m })[0m
2025-10-12T01:32:17.9260143Z 
2025-10-12T01:32:17.9260490Z       at Object.length (__tests__/api.admin.users.test.ts:43:22)
2025-10-12T01:32:17.9260909Z 
2025-10-12T01:32:17.9731228Z FAIL __tests__/api.register.test.ts
2025-10-12T01:32:17.9732492Z   ● POST /api/register › returns 404 when no events found
2025-10-12T01:32:17.9733085Z 
2025-10-12T01:32:17.9733648Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:32:17.9734045Z 
2025-10-12T01:32:17.9734642Z     - Expected  - 1
2025-10-12T01:32:17.9735049Z     + Received  + 1
2025-10-12T01:32:17.9735264Z 
2025-10-12T01:32:17.9735405Z       Object {
2025-10-12T01:32:17.9735824Z     -   "error": "No events found",
2025-10-12T01:32:17.9736390Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:32:17.9736864Z       }
2025-10-12T01:32:17.9737019Z 
2025-10-12T01:32:17.9738183Z     [0m [90m 38 |[39m     [36mconst[39m req [33m=[39m { json[33m:[39m [36masync[39m () [33m=>[39m ({ firstName[33m:[39m [32m'A'[39m[33m,[39m lastName[33m:[39m [32m'B'[39m }) }
2025-10-12T01:32:17.9739680Z      [90m 39 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mPOST[39m(req)
2025-10-12T01:32:17.9740891Z     [31m[1m>[22m[39m[90m 40 |[39m     expect(res)[33m.[39mtoEqual({ error[33m:[39m [32m'No events found'[39m })
2025-10-12T01:32:17.9741856Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:32:17.9742407Z      [90m 41 |[39m   })
2025-10-12T01:32:17.9742833Z      [90m 42 |[39m })
2025-10-12T01:32:17.9743243Z      [90m 43 |[39m[0m
2025-10-12T01:32:17.9743475Z 
2025-10-12T01:32:17.9744098Z       at Object.toEqual (__tests__/api.register.test.ts:40:17)
2025-10-12T01:32:17.9744506Z 
2025-10-12T01:32:18.1618616Z PASS __tests__/userFlow.test.tsx
2025-10-12T01:32:18.1679698Z PASS __tests__/lib.auth.test.ts
2025-10-12T01:32:18.1976821Z PASS __tests__/lib.supabase.test.ts
2025-10-12T01:32:18.3988710Z PASS __tests__/middleware.test.ts
2025-10-12T01:32:18.4125363Z PASS __tests__/api.events.test.ts
2025-10-12T01:32:18.4221620Z PASS __tests__/utils.session.test.ts
2025-10-12T01:32:18.4460036Z 
2025-10-12T01:32:18.4463916Z Test Suites: 4 failed, 6 passed, 10 total
2025-10-12T01:32:18.4464608Z Tests:       5 failed, 27 passed, 32 total
2025-10-12T01:32:18.4465092Z Snapshots:   0 total
2025-10-12T01:32:18.4465462Z Time:        1.943 s
2025-10-12T01:32:18.4465830Z Ran all test suites.
2025-10-12T01:32:18.5200993Z ##[error]Process completed with exit code 1.
2025-10-12T01:32:18.5302058Z Post job cleanup.
2025-10-12T01:32:18.6241456Z [command]/usr/bin/git version
2025-10-12T01:32:18.6277421Z git version 2.51.0
2025-10-12T01:32:18.6328164Z Temporarily overriding HOME='/home/runner/work/_temp/7e30ccf9-4574-4799-aaed-89aa0ef15965' before making global git config changes
2025-10-12T01:32:18.6329656Z Adding repository directory to the temporary git global config as a safe directory
2025-10-12T01:32:18.6333831Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:32:18.6368606Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-12T01:32:18.6401833Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-12T01:32:18.6628849Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-12T01:32:18.6649529Z http.https://github.com/.extraheader
2025-10-12T01:32:18.6662156Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-10-12T01:32:18.6692438Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-12T01:32:18.7015831Z Cleaning up orphan processes
