2025-10-12T01:35:15.3509109Z Current runner version: '2.328.0'
2025-10-12T01:35:15.3546551Z ##[group]Runner Image Provisioner
2025-10-12T01:35:15.3547735Z Hosted Compute Agent
2025-10-12T01:35:15.3548646Z Version: 20250912.392
2025-10-12T01:35:15.3549770Z Commit: d921fda672a98b64f4f82364647e2f10b2267d0b
2025-10-12T01:35:15.3550977Z Build Date: 2025-09-12T15:23:14Z
2025-10-12T01:35:15.3551984Z ##[endgroup]
2025-10-12T01:35:15.3552949Z ##[group]Operating System
2025-10-12T01:35:15.3554013Z Ubuntu
2025-10-12T01:35:15.3554785Z 24.04.3
2025-10-12T01:35:15.3555743Z LTS
2025-10-12T01:35:15.3556803Z ##[endgroup]
2025-10-12T01:35:15.3557670Z ##[group]Runner Image
2025-10-12T01:35:15.3558719Z Image: ubuntu-24.04
2025-10-12T01:35:15.3559515Z Version: 20250929.60.1
2025-10-12T01:35:15.3561279Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250929.60/images/ubuntu/Ubuntu2404-Readme.md
2025-10-12T01:35:15.3564151Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250929.60
2025-10-12T01:35:15.3566420Z ##[endgroup]
2025-10-12T01:35:15.3568341Z ##[group]GITHUB_TOKEN Permissions
2025-10-12T01:35:15.3570833Z Contents: read
2025-10-12T01:35:15.3571859Z Metadata: read
2025-10-12T01:35:15.3572643Z Packages: read
2025-10-12T01:35:15.3573641Z ##[endgroup]
2025-10-12T01:35:15.3577213Z Secret source: Actions
2025-10-12T01:35:15.3578343Z Prepare workflow directory
2025-10-12T01:35:15.4050337Z Prepare all required actions
2025-10-12T01:35:15.4107557Z Getting action download info
2025-10-12T01:35:15.6561080Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-10-12T01:35:15.8298090Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-10-12T01:35:16.0426386Z Complete job name: test
2025-10-12T01:35:16.1086696Z ##[group]Run actions/checkout@v4
2025-10-12T01:35:16.1087603Z with:
2025-10-12T01:35:16.1088040Z   repository: qubitquilt/simple-scavenger-hunt
2025-10-12T01:35:16.1088739Z   token: ***
2025-10-12T01:35:16.1089146Z   ssh-strict: true
2025-10-12T01:35:16.1089540Z   ssh-user: git
2025-10-12T01:35:16.1089940Z   persist-credentials: true
2025-10-12T01:35:16.1090388Z   clean: true
2025-10-12T01:35:16.1090788Z   sparse-checkout-cone-mode: true
2025-10-12T01:35:16.1091263Z   fetch-depth: 1
2025-10-12T01:35:16.1091651Z   fetch-tags: false
2025-10-12T01:35:16.1092064Z   show-progress: true
2025-10-12T01:35:16.1092463Z   lfs: false
2025-10-12T01:35:16.1092836Z   submodules: false
2025-10-12T01:35:16.1093238Z   set-safe-directory: true
2025-10-12T01:35:16.1093878Z ##[endgroup]
2025-10-12T01:35:16.2151659Z Syncing repository: qubitquilt/simple-scavenger-hunt
2025-10-12T01:35:16.2153349Z ##[group]Getting Git version info
2025-10-12T01:35:16.2154231Z Working directory is '/home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt'
2025-10-12T01:35:16.2155299Z [command]/usr/bin/git version
2025-10-12T01:35:16.2262126Z git version 2.51.0
2025-10-12T01:35:16.2288356Z ##[endgroup]
2025-10-12T01:35:16.2302405Z Temporarily overriding HOME='/home/runner/work/_temp/9adb659d-1834-4569-93c8-91378cfc6b96' before making global git config changes
2025-10-12T01:35:16.2303769Z Adding repository directory to the temporary git global config as a safe directory
2025-10-12T01:35:16.2308083Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:35:16.2343537Z Deleting the contents of '/home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt'
2025-10-12T01:35:16.2346935Z ##[group]Initializing the repository
2025-10-12T01:35:16.2350984Z [command]/usr/bin/git init /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:35:16.2466652Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-10-12T01:35:16.2467849Z hint: is subject to change. To configure the initial branch name to use in all
2025-10-12T01:35:16.2468688Z hint: of your new repositories, which will suppress this warning, call:
2025-10-12T01:35:16.2469609Z hint:
2025-10-12T01:35:16.2470080Z hint: 	git config --global init.defaultBranch <name>
2025-10-12T01:35:16.2470931Z hint:
2025-10-12T01:35:16.2471867Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-10-12T01:35:16.2472838Z hint: 'development'. The just-created branch can be renamed via this command:
2025-10-12T01:35:16.2473517Z hint:
2025-10-12T01:35:16.2473887Z hint: 	git branch -m <name>
2025-10-12T01:35:16.2474327Z hint:
2025-10-12T01:35:16.2474896Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-10-12T01:35:16.2475996Z Initialized empty Git repository in /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt/.git/
2025-10-12T01:35:16.2483267Z [command]/usr/bin/git remote add origin https://github.com/qubitquilt/simple-scavenger-hunt
2025-10-12T01:35:16.2524110Z ##[endgroup]
2025-10-12T01:35:16.2525296Z ##[group]Disabling automatic garbage collection
2025-10-12T01:35:16.2529189Z [command]/usr/bin/git config --local gc.auto 0
2025-10-12T01:35:16.2561409Z ##[endgroup]
2025-10-12T01:35:16.2562592Z ##[group]Setting up auth
2025-10-12T01:35:16.2569075Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-12T01:35:16.2599720Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-12T01:35:16.2965097Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-12T01:35:16.2996508Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-12T01:35:16.3223919Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-10-12T01:35:16.3267737Z ##[endgroup]
2025-10-12T01:35:16.3268978Z ##[group]Fetching the repository
2025-10-12T01:35:16.3277794Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +dfa4f6b03d3c57c105db854fb75170fa9eb71812:refs/remotes/pull/9/merge
2025-10-12T01:35:16.5313224Z From https://github.com/qubitquilt/simple-scavenger-hunt
2025-10-12T01:35:16.5314264Z  * [new ref]         dfa4f6b03d3c57c105db854fb75170fa9eb71812 -> pull/9/merge
2025-10-12T01:35:16.5345702Z ##[endgroup]
2025-10-12T01:35:16.5348622Z ##[group]Determining the checkout info
2025-10-12T01:35:16.5349863Z ##[endgroup]
2025-10-12T01:35:16.5353943Z [command]/usr/bin/git sparse-checkout disable
2025-10-12T01:35:16.5394205Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-10-12T01:35:16.5421506Z ##[group]Checking out the ref
2025-10-12T01:35:16.5425061Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/9/merge
2025-10-12T01:35:16.5514486Z Note: switching to 'refs/remotes/pull/9/merge'.
2025-10-12T01:35:16.5515176Z 
2025-10-12T01:35:16.5515597Z You are in 'detached HEAD' state. You can look around, make experimental
2025-10-12T01:35:16.5516709Z changes and commit them, and you can discard any commits you make in this
2025-10-12T01:35:16.5517574Z state without impacting any branches by switching back to a branch.
2025-10-12T01:35:16.5518501Z 
2025-10-12T01:35:16.5519110Z If you want to create a new branch to retain commits you create, you may
2025-10-12T01:35:16.5520531Z do so (now or later) by using -c with the switch command. Example:
2025-10-12T01:35:16.5521363Z 
2025-10-12T01:35:16.5521707Z   git switch -c <new-branch-name>
2025-10-12T01:35:16.5522293Z 
2025-10-12T01:35:16.5522626Z Or undo this operation with:
2025-10-12T01:35:16.5523134Z 
2025-10-12T01:35:16.5523407Z   git switch -
2025-10-12T01:35:16.5523820Z 
2025-10-12T01:35:16.5524446Z Turn off this advice by setting config variable advice.detachedHead to false
2025-10-12T01:35:16.5525369Z 
2025-10-12T01:35:16.5526742Z HEAD is now at dfa4f6b Merge b374cd908e53d3950f4a51d8ab9fa8acd1aa43e2 into a1fc6543fb19679e6c0b2f27c8e0ae8b0a756ed8
2025-10-12T01:35:16.5530170Z ##[endgroup]
2025-10-12T01:35:16.5559926Z [command]/usr/bin/git log -1 --format=%H
2025-10-12T01:35:16.5581447Z dfa4f6b03d3c57c105db854fb75170fa9eb71812
2025-10-12T01:35:16.5827332Z ##[group]Run actions/setup-node@v4
2025-10-12T01:35:16.5827930Z with:
2025-10-12T01:35:16.5828307Z   node-version: 18
2025-10-12T01:35:16.5828684Z   cache: npm
2025-10-12T01:35:16.5829050Z   always-auth: false
2025-10-12T01:35:16.5829446Z   check-latest: false
2025-10-12T01:35:16.5829996Z   token: ***
2025-10-12T01:35:16.5830357Z ##[endgroup]
2025-10-12T01:35:16.7817764Z Found in cache @ /opt/hostedtoolcache/node/18.20.8/x64
2025-10-12T01:35:16.7824584Z ##[group]Environment details
2025-10-12T01:35:19.0435616Z node: v18.20.8
2025-10-12T01:35:19.0436470Z npm: 10.8.2
2025-10-12T01:35:19.0436946Z yarn: 1.22.22
2025-10-12T01:35:19.0438175Z ##[endgroup]
2025-10-12T01:35:19.0460064Z [command]/opt/hostedtoolcache/node/18.20.8/x64/bin/npm config get cache
2025-10-12T01:35:19.3622827Z /home/runner/.npm
2025-10-12T01:35:19.4915439Z npm cache is not found
2025-10-12T01:35:19.5041619Z ##[group]Run npm ci
2025-10-12T01:35:19.5041970Z [36;1mnpm ci[0m
2025-10-12T01:35:19.5171790Z shell: /usr/bin/bash -e {0}
2025-10-12T01:35:19.5172102Z ##[endgroup]
2025-10-12T01:35:26.1910436Z npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-10-12T01:35:27.0037701Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-10-12T01:35:28.6088258Z npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
2025-10-12T01:35:28.6813038Z npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-10-12T01:35:29.1243446Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-10-12T01:35:29.2119673Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-10-12T01:35:31.4113611Z npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-10-12T01:35:42.1450005Z 
2025-10-12T01:35:42.1450782Z added 752 packages, and audited 753 packages in 23s
2025-10-12T01:35:42.1451345Z 
2025-10-12T01:35:42.1451962Z 184 packages are looking for funding
2025-10-12T01:35:42.1452976Z   run `npm fund` for details
2025-10-12T01:35:42.2245087Z 
2025-10-12T01:35:42.2245749Z 1 critical severity vulnerability
2025-10-12T01:35:42.2246449Z 
2025-10-12T01:35:42.2246823Z To address all issues, run:
2025-10-12T01:35:42.2247358Z   npm audit fix --force
2025-10-12T01:35:42.2247691Z 
2025-10-12T01:35:42.2247914Z Run `npm audit` for details.
2025-10-12T01:35:42.2750956Z ##[group]Run npm test
2025-10-12T01:35:42.2751444Z [36;1mnpm test[0m
2025-10-12T01:35:42.2788018Z shell: /usr/bin/bash -e {0}
2025-10-12T01:35:42.2788326Z ##[endgroup]
2025-10-12T01:35:42.4171900Z 
2025-10-12T01:35:42.4172893Z > simple-scavenger-hunt@0.1.0 test
2025-10-12T01:35:42.4173523Z > jest
2025-10-12T01:35:42.4173739Z 
2025-10-12T01:35:44.3510545Z FAIL __tests__/api.admin.questions.test.ts
2025-10-12T01:35:44.3515571Z   ● admin questions api › GET returns questions filtered by eventId
2025-10-12T01:35:44.3521986Z 
2025-10-12T01:35:44.3526530Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:35:44.3530998Z 
2025-10-12T01:35:44.3535014Z     - Expected  - 5
2025-10-12T01:35:44.3536249Z     + Received  + 1
2025-10-12T01:35:44.3536793Z 
2025-10-12T01:35:44.3542210Z       Object {
2025-10-12T01:35:44.3543242Z     -   "questions": Array [
2025-10-12T01:35:44.3550774Z     -     Object {
2025-10-12T01:35:44.3551983Z     -       "id": "q1",
2025-10-12T01:35:44.3552866Z     -     },
2025-10-12T01:35:44.3553533Z     -   ],
2025-10-12T01:35:44.3558529Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:35:44.3560282Z       }
2025-10-12T01:35:44.3563596Z 
2025-10-12T01:35:44.3564720Z     [0m [90m 33 |[39m     [36mconst[39m fakeReq [33m=[39m { url[33m:[39m [32m'https://example.com/?eventId=ev1'[39m }
2025-10-12T01:35:44.3566026Z      [90m 34 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m(fakeReq)
2025-10-12T01:35:44.3573051Z     [31m[1m>[22m[39m[90m 35 |[39m     expect(res)[33m.[39mtoEqual({ questions[33m:[39m [{ id[33m:[39m [32m'q1'[39m }] })
2025-10-12T01:35:44.3574146Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:35:44.3574796Z      [90m 36 |[39m   })
2025-10-12T01:35:44.3575241Z      [90m 37 |[39m
2025-10-12T01:35:44.3576346Z      [90m 38 |[39m   it([32m'POST validates required fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:35:44.3577014Z 
2025-10-12T01:35:44.3577452Z       at Object.toEqual (__tests__/api.admin.questions.test.ts:35:17)
2025-10-12T01:35:44.3577921Z 
2025-10-12T01:35:44.3578475Z   ● admin questions api › POST returns 404 when event not found
2025-10-12T01:35:44.3578908Z 
2025-10-12T01:35:44.3579243Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:35:44.3579637Z 
2025-10-12T01:35:44.3579820Z     - Expected  - 1
2025-10-12T01:35:44.3580184Z     + Received  + 1
2025-10-12T01:35:44.3580384Z 
2025-10-12T01:35:44.3580516Z       Object {
2025-10-12T01:35:44.3580926Z     -   "error": "Event not found",
2025-10-12T01:35:44.3581529Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:35:44.3582026Z       }
2025-10-12T01:35:44.3582220Z 
2025-10-12T01:35:44.3583725Z     [0m [90m 57 |[39m     [36mconst[39m req [33m=[39m { json[33m:[39m [36masync[39m () [33m=>[39m ({ eventId[33m:[39m [32m'ev1'[39m[33m,[39m content[33m:[39m [32m'c'[39m[33m,[39m expectedAnswer[33m:[39m [32m'e'[39m }) }
2025-10-12T01:35:44.3585677Z      [90m 58 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mPOST[39m(req)
2025-10-12T01:35:44.3587880Z     [31m[1m>[22m[39m[90m 59 |[39m     expect(res)[33m.[39mtoEqual({ error[33m:[39m [32m'Event not found'[39m })
2025-10-12T01:35:44.3588822Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:35:44.3589411Z      [90m 60 |[39m   })
2025-10-12T01:35:44.3589820Z      [90m 61 |[39m
2025-10-12T01:35:44.3590613Z      [90m 62 |[39m   it([32m'PUT requires id'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:35:44.3591108Z 
2025-10-12T01:35:44.3591486Z       at Object.toEqual (__tests__/api.admin.questions.test.ts:59:17)
2025-10-12T01:35:44.3591940Z 
2025-10-12T01:35:44.5347734Z FAIL __tests__/api.admin.events.test.ts
2025-10-12T01:35:44.5529467Z   ● Console
2025-10-12T01:35:44.5529767Z 
2025-10-12T01:35:44.5529948Z     console.log
2025-10-12T01:35:44.5530385Z       Service key loaded: false
2025-10-12T01:35:44.5531145Z 
2025-10-12T01:35:44.5531501Z       at log (app/api/admin/events/route.ts:15:13)
2025-10-12T01:35:44.5531920Z 
2025-10-12T01:35:44.5532118Z     console.log
2025-10-12T01:35:44.5532574Z       Key prefix: undefined...
2025-10-12T01:35:44.5532869Z 
2025-10-12T01:35:44.5533156Z       at log (app/api/admin/events/route.ts:16:13)
2025-10-12T01:35:44.5533541Z 
2025-10-12T01:35:44.5534359Z   ● admin events api › GET returns events
2025-10-12T01:35:44.5535244Z 
2025-10-12T01:35:44.5535971Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:35:44.5536988Z 
2025-10-12T01:35:44.5537513Z     - Expected  - 9
2025-10-12T01:35:44.5538397Z     + Received  + 1
2025-10-12T01:35:44.5538935Z 
2025-10-12T01:35:44.5539368Z       Object {
2025-10-12T01:35:44.5540070Z     -   "events": Array [
2025-10-12T01:35:44.5540869Z     -     Object {
2025-10-12T01:35:44.5541624Z     -       "createdAt": Any<String>,
2025-10-12T01:35:44.5542488Z     -       "date": Any<String>,
2025-10-12T01:35:44.5543426Z     -       "description": "",
2025-10-12T01:35:44.5544414Z     -       "id": "1",
2025-10-12T01:35:44.5545278Z     -       "title": "E",
2025-10-12T01:35:44.5546608Z     -     },
2025-10-12T01:35:44.5547270Z     -   ],
2025-10-12T01:35:44.5548097Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:35:44.5549032Z       }
2025-10-12T01:35:44.5549561Z 
2025-10-12T01:35:44.5550951Z     [0m [90m 33 |[39m     [33m;[39m(createAdminSupabaseClient [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockReturnValue(admin)
2025-10-12T01:35:44.5552907Z      [90m 34 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m()
2025-10-12T01:35:44.5556296Z     [31m[1m>[22m[39m[90m 35 |[39m     expect(res)[33m.[39mtoEqual({ events[33m:[39m [{ id[33m:[39m [32m'1'[39m[33m,[39m title[33m:[39m [32m'E'[39m[33m,[39m description[33m:[39m [32m''[39m[33m,[39m date[33m:[39m expect[33m.[39many([33mString[39m)[33m,[39m createdAt[33m:[39m expect[33m.[39many([33mString[39m) }] })
2025-10-12T01:35:44.5600288Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:35:44.5601270Z      [90m 36 |[39m   })
2025-10-12T01:35:44.5602092Z      [90m 37 |[39m
2025-10-12T01:35:44.5603426Z      [90m 38 |[39m   it([32m'POST returns 401 when not admin'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:35:44.5604377Z 
2025-10-12T01:35:44.5605060Z       at Object.toEqual (__tests__/api.admin.events.test.ts:35:17)
2025-10-12T01:35:44.5605851Z 
2025-10-12T01:35:44.5783707Z FAIL __tests__/api.admin.users.test.ts
2025-10-12T01:35:44.5789318Z   ● admin users api › computes metrics correctly
2025-10-12T01:35:44.5790219Z 
2025-10-12T01:35:44.5794457Z     TypeError: Cannot read properties of undefined (reading 'length')
2025-10-12T01:35:44.5795336Z 
2025-10-12T01:35:44.5796730Z     [0m [90m 41 |[39m     [36mconst[39m req [33m=[39m { url[33m:[39m [32m'https://example.com/?eventId=e1'[39m }
2025-10-12T01:35:44.5798471Z      [90m 42 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m(req)
2025-10-12T01:35:44.5799981Z     [31m[1m>[22m[39m[90m 43 |[39m     expect(res[33m.[39musers[33m.[39mlength)[33m.[39mtoBe([35m1[39m)
2025-10-12T01:35:44.5801464Z      [90m    |[39m                      [31m[1m^[22m[39m
2025-10-12T01:35:44.5803019Z      [90m 44 |[39m     expect(res[33m.[39mmetrics[33m.[39mtotalUsers)[33m.[39mtoBe([35m1[39m)
2025-10-12T01:35:44.5804171Z      [90m 45 |[39m   })
2025-10-12T01:35:44.5827844Z      [90m 46 |[39m })[0m
2025-10-12T01:35:44.5828168Z 
2025-10-12T01:35:44.5831934Z       at Object.length (__tests__/api.admin.users.test.ts:43:22)
2025-10-12T01:35:44.5832373Z 
2025-10-12T01:35:44.7341466Z PASS __tests__/userFlow.test.tsx
2025-10-12T01:35:44.8147662Z PASS __tests__/lib.auth.test.ts
2025-10-12T01:35:44.8343588Z FAIL __tests__/api.register.test.ts
2025-10-12T01:35:44.8345275Z   ● POST /api/register › returns 404 when no events found
2025-10-12T01:35:44.8346598Z 
2025-10-12T01:35:44.8347266Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:35:44.8347879Z 
2025-10-12T01:35:44.8348240Z     - Expected  - 1
2025-10-12T01:35:44.8348664Z     + Received  + 1
2025-10-12T01:35:44.8348841Z 
2025-10-12T01:35:44.8348950Z       Object {
2025-10-12T01:35:44.8349248Z     -   "error": "No events found",
2025-10-12T01:35:44.8349699Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:35:44.8350149Z       }
2025-10-12T01:35:44.8350329Z 
2025-10-12T01:35:44.8351537Z     [0m [90m 38 |[39m     [36mconst[39m req [33m=[39m { json[33m:[39m [36masync[39m () [33m=>[39m ({ firstName[33m:[39m [32m'A'[39m[33m,[39m lastName[33m:[39m [32m'B'[39m }) }
2025-10-12T01:35:44.8352946Z      [90m 39 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mPOST[39m(req)
2025-10-12T01:35:44.8354218Z     [31m[1m>[22m[39m[90m 40 |[39m     expect(res)[33m.[39mtoEqual({ error[33m:[39m [32m'No events found'[39m })
2025-10-12T01:35:44.8355171Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:35:44.8355730Z      [90m 41 |[39m   })
2025-10-12T01:35:44.8356715Z      [90m 42 |[39m })
2025-10-12T01:35:44.8357131Z      [90m 43 |[39m[0m
2025-10-12T01:35:44.8357358Z 
2025-10-12T01:35:44.8357709Z       at Object.toEqual (__tests__/api.register.test.ts:40:17)
2025-10-12T01:35:44.8358112Z 
2025-10-12T01:35:44.9662948Z PASS __tests__/lib.supabase.test.ts
2025-10-12T01:35:45.0574466Z PASS __tests__/api.events.test.ts
2025-10-12T01:35:45.0618213Z PASS __tests__/middleware.test.ts
2025-10-12T01:35:45.1570684Z PASS __tests__/utils.session.test.ts
2025-10-12T01:35:45.2052950Z 
2025-10-12T01:35:45.2056238Z Test Suites: 4 failed, 6 passed, 10 total
2025-10-12T01:35:45.2057178Z Tests:       5 failed, 27 passed, 32 total
2025-10-12T01:35:45.2057682Z Snapshots:   0 total
2025-10-12T01:35:45.2058059Z Time:        1.992 s
2025-10-12T01:35:45.2058419Z Ran all test suites.
2025-10-12T01:35:45.2835461Z ##[error]Process completed with exit code 1.
2025-10-12T01:35:45.2928841Z Post job cleanup.
2025-10-12T01:35:45.3870005Z [command]/usr/bin/git version
2025-10-12T01:35:45.3905411Z git version 2.51.0
2025-10-12T01:35:45.3957051Z Temporarily overriding HOME='/home/runner/work/_temp/12b6587b-b5fb-4488-b1bc-e548e4006c5d' before making global git config changes
2025-10-12T01:35:45.3958514Z Adding repository directory to the temporary git global config as a safe directory
2025-10-12T01:35:45.3963156Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:35:45.3996531Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-12T01:35:45.4028966Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-12T01:35:45.4271018Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-12T01:35:45.4293063Z http.https://github.com/.extraheader
2025-10-12T01:35:45.4310924Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-10-12T01:35:45.4344927Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-12T01:35:45.4685770Z Cleaning up orphan processes
