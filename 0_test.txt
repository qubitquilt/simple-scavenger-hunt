2025-10-12T01:28:29.8834721Z Current runner version: '2.328.0'
2025-10-12T01:28:29.8868624Z ##[group]Runner Image Provisioner
2025-10-12T01:28:29.8869720Z Hosted Compute Agent
2025-10-12T01:28:29.8870620Z Version: 20250912.392
2025-10-12T01:28:29.8871853Z Commit: d921fda672a98b64f4f82364647e2f10b2267d0b
2025-10-12T01:28:29.8873014Z Build Date: 2025-09-12T15:23:14Z
2025-10-12T01:28:29.8873933Z ##[endgroup]
2025-10-12T01:28:29.8874835Z ##[group]Operating System
2025-10-12T01:28:29.8875685Z Ubuntu
2025-10-12T01:28:29.8876364Z 24.04.3
2025-10-12T01:28:29.8877227Z LTS
2025-10-12T01:28:29.8877913Z ##[endgroup]
2025-10-12T01:28:29.8878722Z ##[group]Runner Image
2025-10-12T01:28:29.8879647Z Image: ubuntu-24.04
2025-10-12T01:28:29.8880442Z Version: 20250929.60.1
2025-10-12T01:28:29.8882289Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250929.60/images/ubuntu/Ubuntu2404-Readme.md
2025-10-12T01:28:29.8884929Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250929.60
2025-10-12T01:28:29.8886535Z ##[endgroup]
2025-10-12T01:28:29.8888347Z ##[group]GITHUB_TOKEN Permissions
2025-10-12T01:28:29.8890795Z Contents: read
2025-10-12T01:28:29.8891982Z Metadata: read
2025-10-12T01:28:29.8892719Z Packages: read
2025-10-12T01:28:29.8893575Z ##[endgroup]
2025-10-12T01:28:29.8896518Z Secret source: Actions
2025-10-12T01:28:29.8897606Z Prepare workflow directory
2025-10-12T01:28:29.9359393Z Prepare all required actions
2025-10-12T01:28:29.9416972Z Getting action download info
2025-10-12T01:28:30.2386816Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-10-12T01:28:30.3129121Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-10-12T01:28:30.5364777Z Complete job name: test
2025-10-12T01:28:30.6061134Z ##[group]Run actions/checkout@v4
2025-10-12T01:28:30.6062270Z with:
2025-10-12T01:28:30.6062739Z   repository: qubitquilt/simple-scavenger-hunt
2025-10-12T01:28:30.6063533Z   token: ***
2025-10-12T01:28:30.6063947Z   ssh-strict: true
2025-10-12T01:28:30.6064335Z   ssh-user: git
2025-10-12T01:28:30.6064729Z   persist-credentials: true
2025-10-12T01:28:30.6065169Z   clean: true
2025-10-12T01:28:30.6065575Z   sparse-checkout-cone-mode: true
2025-10-12T01:28:30.6066042Z   fetch-depth: 1
2025-10-12T01:28:30.6066474Z   fetch-tags: false
2025-10-12T01:28:30.6066920Z   show-progress: true
2025-10-12T01:28:30.6067373Z   lfs: false
2025-10-12T01:28:30.6067739Z   submodules: false
2025-10-12T01:28:30.6068153Z   set-safe-directory: true
2025-10-12T01:28:30.6068826Z ##[endgroup]
2025-10-12T01:28:30.7197890Z Syncing repository: qubitquilt/simple-scavenger-hunt
2025-10-12T01:28:30.7199792Z ##[group]Getting Git version info
2025-10-12T01:28:30.7200747Z Working directory is '/home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt'
2025-10-12T01:28:30.7202514Z [command]/usr/bin/git version
2025-10-12T01:28:30.7278283Z git version 2.51.0
2025-10-12T01:28:30.7306091Z ##[endgroup]
2025-10-12T01:28:30.7323325Z Temporarily overriding HOME='/home/runner/work/_temp/851a6aee-70b3-4926-9b1f-9536f90dac07' before making global git config changes
2025-10-12T01:28:30.7325698Z Adding repository directory to the temporary git global config as a safe directory
2025-10-12T01:28:30.7330363Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:28:30.7367161Z Deleting the contents of '/home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt'
2025-10-12T01:28:30.7370975Z ##[group]Initializing the repository
2025-10-12T01:28:30.7376170Z [command]/usr/bin/git init /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:28:30.7436679Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-10-12T01:28:30.7438442Z hint: is subject to change. To configure the initial branch name to use in all
2025-10-12T01:28:30.7440013Z hint: of your new repositories, which will suppress this warning, call:
2025-10-12T01:28:30.7441897Z hint:
2025-10-12T01:28:30.7442723Z hint: 	git config --global init.defaultBranch <name>
2025-10-12T01:28:30.7444059Z hint:
2025-10-12T01:28:30.7445077Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-10-12T01:28:30.7446596Z hint: 'development'. The just-created branch can be renamed via this command:
2025-10-12T01:28:30.7447735Z hint:
2025-10-12T01:28:30.7448344Z hint: 	git branch -m <name>
2025-10-12T01:28:30.7449063Z hint:
2025-10-12T01:28:30.7450106Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-10-12T01:28:30.7452338Z Initialized empty Git repository in /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt/.git/
2025-10-12T01:28:30.7455532Z [command]/usr/bin/git remote add origin https://github.com/qubitquilt/simple-scavenger-hunt
2025-10-12T01:28:30.7488002Z ##[endgroup]
2025-10-12T01:28:30.7489182Z ##[group]Disabling automatic garbage collection
2025-10-12T01:28:30.7493221Z [command]/usr/bin/git config --local gc.auto 0
2025-10-12T01:28:30.7522063Z ##[endgroup]
2025-10-12T01:28:30.7523256Z ##[group]Setting up auth
2025-10-12T01:28:30.7529857Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-12T01:28:30.7561619Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-12T01:28:30.7824961Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-12T01:28:30.7856129Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-12T01:28:30.8106408Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-10-12T01:28:30.8144290Z ##[endgroup]
2025-10-12T01:28:30.8145550Z ##[group]Fetching the repository
2025-10-12T01:28:30.8154873Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +d1f5bff58abd52cede4ecf8b2883d64c04aa1e6a:refs/remotes/pull/9/merge
2025-10-12T01:28:31.0112351Z From https://github.com/qubitquilt/simple-scavenger-hunt
2025-10-12T01:28:31.0113744Z  * [new ref]         d1f5bff58abd52cede4ecf8b2883d64c04aa1e6a -> pull/9/merge
2025-10-12T01:28:31.0145096Z ##[endgroup]
2025-10-12T01:28:31.0146227Z ##[group]Determining the checkout info
2025-10-12T01:28:31.0147668Z ##[endgroup]
2025-10-12T01:28:31.0153918Z [command]/usr/bin/git sparse-checkout disable
2025-10-12T01:28:31.0194121Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-10-12T01:28:31.0223392Z ##[group]Checking out the ref
2025-10-12T01:28:31.0227570Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/9/merge
2025-10-12T01:28:31.0317269Z Note: switching to 'refs/remotes/pull/9/merge'.
2025-10-12T01:28:31.0317804Z 
2025-10-12T01:28:31.0318259Z You are in 'detached HEAD' state. You can look around, make experimental
2025-10-12T01:28:31.0319129Z changes and commit them, and you can discard any commits you make in this
2025-10-12T01:28:31.0320449Z state without impacting any branches by switching back to a branch.
2025-10-12T01:28:31.0321336Z 
2025-10-12T01:28:31.0322163Z If you want to create a new branch to retain commits you create, you may
2025-10-12T01:28:31.0323467Z do so (now or later) by using -c with the switch command. Example:
2025-10-12T01:28:31.0324267Z 
2025-10-12T01:28:31.0324573Z   git switch -c <new-branch-name>
2025-10-12T01:28:31.0325079Z 
2025-10-12T01:28:31.0325393Z Or undo this operation with:
2025-10-12T01:28:31.0325880Z 
2025-10-12T01:28:31.0326153Z   git switch -
2025-10-12T01:28:31.0326576Z 
2025-10-12T01:28:31.0327235Z Turn off this advice by setting config variable advice.detachedHead to false
2025-10-12T01:28:31.0328126Z 
2025-10-12T01:28:31.0329187Z HEAD is now at d1f5bff Merge 65008cf3838817b902ece07cf8b49d46c2336a71 into a1fc6543fb19679e6c0b2f27c8e0ae8b0a756ed8
2025-10-12T01:28:31.0332917Z ##[endgroup]
2025-10-12T01:28:31.0368731Z [command]/usr/bin/git log -1 --format=%H
2025-10-12T01:28:31.0393296Z d1f5bff58abd52cede4ecf8b2883d64c04aa1e6a
2025-10-12T01:28:31.0639729Z ##[group]Run actions/setup-node@v4
2025-10-12T01:28:31.0640332Z with:
2025-10-12T01:28:31.0640676Z   node-version: 18
2025-10-12T01:28:31.0641055Z   cache: npm
2025-10-12T01:28:31.0641408Z   always-auth: false
2025-10-12T01:28:31.0642022Z   check-latest: false
2025-10-12T01:28:31.0642590Z   token: ***
2025-10-12T01:28:31.0642953Z ##[endgroup]
2025-10-12T01:28:31.2810101Z Found in cache @ /opt/hostedtoolcache/node/18.20.8/x64
2025-10-12T01:28:31.2817440Z ##[group]Environment details
2025-10-12T01:28:33.2039268Z node: v18.20.8
2025-10-12T01:28:33.2039919Z npm: 10.8.2
2025-10-12T01:28:33.2052099Z yarn: 1.22.22
2025-10-12T01:28:33.2053538Z ##[endgroup]
2025-10-12T01:28:33.2066663Z [command]/opt/hostedtoolcache/node/18.20.8/x64/bin/npm config get cache
2025-10-12T01:28:33.5384983Z /home/runner/.npm
2025-10-12T01:28:33.6950210Z npm cache is not found
2025-10-12T01:28:33.7083375Z ##[group]Run npm ci
2025-10-12T01:28:33.7083709Z [36;1mnpm ci[0m
2025-10-12T01:28:33.7126230Z shell: /usr/bin/bash -e {0}
2025-10-12T01:28:33.7126525Z ##[endgroup]
2025-10-12T01:28:37.6573538Z npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-10-12T01:28:38.5886355Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-10-12T01:28:40.2449921Z npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-10-12T01:28:40.2451417Z npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
2025-10-12T01:28:40.6723230Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-10-12T01:28:40.7717531Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-10-12T01:28:43.0966022Z npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-10-12T01:28:54.6523907Z 
2025-10-12T01:28:54.6524833Z added 752 packages, and audited 753 packages in 21s
2025-10-12T01:28:54.6525193Z 
2025-10-12T01:28:54.6525396Z 184 packages are looking for funding
2025-10-12T01:28:54.6532574Z   run `npm fund` for details
2025-10-12T01:28:54.7296394Z 
2025-10-12T01:28:54.7297950Z 1 critical severity vulnerability
2025-10-12T01:28:54.7298448Z 
2025-10-12T01:28:54.7298716Z To address all issues, run:
2025-10-12T01:28:54.7299274Z   npm audit fix --force
2025-10-12T01:28:54.7299617Z 
2025-10-12T01:28:54.7299857Z Run `npm audit` for details.
2025-10-12T01:28:54.7835858Z ##[group]Run npm test
2025-10-12T01:28:54.7836137Z [36;1mnpm test[0m
2025-10-12T01:28:54.7869904Z shell: /usr/bin/bash -e {0}
2025-10-12T01:28:54.7870186Z ##[endgroup]
2025-10-12T01:28:54.9205430Z 
2025-10-12T01:28:54.9206109Z > simple-scavenger-hunt@0.1.0 test
2025-10-12T01:28:54.9206777Z > jest
2025-10-12T01:28:54.9207013Z 
2025-10-12T01:28:56.9789446Z FAIL __tests__/api.admin.questions.test.ts
2025-10-12T01:28:56.9793411Z   ● admin questions api › GET returns questions filtered by eventId
2025-10-12T01:28:56.9793920Z 
2025-10-12T01:28:56.9794261Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:28:56.9794637Z 
2025-10-12T01:28:56.9794816Z     - Expected  - 5
2025-10-12T01:28:56.9795219Z     + Received  + 1
2025-10-12T01:28:56.9795437Z 
2025-10-12T01:28:56.9795586Z       Object {
2025-10-12T01:28:56.9795957Z     -   "questions": Array [
2025-10-12T01:28:56.9796340Z     -     Object {
2025-10-12T01:28:56.9796651Z     -       "id": "q1",
2025-10-12T01:28:56.9797092Z     -     },
2025-10-12T01:28:56.9797403Z     -   ],
2025-10-12T01:28:56.9797841Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:28:56.9798878Z       }
2025-10-12T01:28:56.9799038Z 
2025-10-12T01:28:56.9799939Z     [0m [90m 33 |[39m     [36mconst[39m fakeReq [33m=[39m { url[33m:[39m [32m'https://example.com/?eventId=ev1'[39m }
2025-10-12T01:28:56.9801240Z      [90m 34 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m(fakeReq)
2025-10-12T01:28:56.9802750Z     [31m[1m>[22m[39m[90m 35 |[39m     expect(res)[33m.[39mtoEqual({ questions[33m:[39m [{ id[33m:[39m [32m'q1'[39m }] })
2025-10-12T01:28:56.9803734Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:28:56.9804341Z      [90m 36 |[39m   })
2025-10-12T01:28:56.9804798Z      [90m 37 |[39m
2025-10-12T01:28:56.9805742Z      [90m 38 |[39m   it([32m'POST validates required fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:28:56.9806390Z 
2025-10-12T01:28:56.9806812Z       at Object.toEqual (__tests__/api.admin.questions.test.ts:35:17)
2025-10-12T01:28:56.9807276Z 
2025-10-12T01:28:56.9807804Z   ● admin questions api › POST returns 404 when event not found
2025-10-12T01:28:56.9808228Z 
2025-10-12T01:28:56.9808550Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:28:56.9808926Z 
2025-10-12T01:28:56.9809079Z     - Expected  - 1
2025-10-12T01:28:56.9809409Z     + Received  + 1
2025-10-12T01:28:56.9809601Z 
2025-10-12T01:28:56.9809732Z       Object {
2025-10-12T01:28:56.9810121Z     -   "error": "Event not found",
2025-10-12T01:28:56.9810651Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:28:56.9811112Z       }
2025-10-12T01:28:56.9811279Z 
2025-10-12T01:28:56.9814006Z     [0m [90m 57 |[39m     [36mconst[39m req [33m=[39m { json[33m:[39m [36masync[39m () [33m=>[39m ({ eventId[33m:[39m [32m'ev1'[39m[33m,[39m content[33m:[39m [32m'c'[39m[33m,[39m expectedAnswer[33m:[39m [32m'e'[39m }) }
2025-10-12T01:28:56.9815629Z      [90m 58 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mPOST[39m(req)
2025-10-12T01:28:56.9816816Z     [31m[1m>[22m[39m[90m 59 |[39m     expect(res)[33m.[39mtoEqual({ error[33m:[39m [32m'Event not found'[39m })
2025-10-12T01:28:56.9819181Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:28:56.9819737Z      [90m 60 |[39m   })
2025-10-12T01:28:56.9820142Z      [90m 61 |[39m
2025-10-12T01:28:56.9820941Z      [90m 62 |[39m   it([32m'PUT requires id'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:28:56.9821790Z 
2025-10-12T01:28:56.9822227Z       at Object.toEqual (__tests__/api.admin.questions.test.ts:59:17)
2025-10-12T01:28:56.9822714Z 
2025-10-12T01:28:57.1109867Z FAIL __tests__/api.admin.events.test.ts
2025-10-12T01:28:57.1336532Z   ● Console
2025-10-12T01:28:57.1368050Z 
2025-10-12T01:28:57.1412640Z     console.log
2025-10-12T01:28:57.1413589Z       Service key loaded: false
2025-10-12T01:28:57.1414690Z 
2025-10-12T01:28:57.1415286Z       at log (app/api/admin/events/route.ts:15:13)
2025-10-12T01:28:57.1415898Z 
2025-10-12T01:28:57.1416258Z     console.log
2025-10-12T01:28:57.1416878Z       Key prefix: undefined...
2025-10-12T01:28:57.1417359Z 
2025-10-12T01:28:57.1417826Z       at log (app/api/admin/events/route.ts:16:13)
2025-10-12T01:28:57.1418424Z 
2025-10-12T01:28:57.1419746Z   ● admin events api › GET returns events
2025-10-12T01:28:57.1420369Z 
2025-10-12T01:28:57.1420918Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:28:57.1421711Z 
2025-10-12T01:28:57.1422081Z     - Expected  - 9
2025-10-12T01:28:57.1422891Z     + Received  + 1
2025-10-12T01:28:57.1423320Z 
2025-10-12T01:28:57.1423638Z       Object {
2025-10-12T01:28:57.1424209Z     -   "events": Array [
2025-10-12T01:28:57.1424848Z     -     Object {
2025-10-12T01:28:57.1425476Z     -       "createdAt": Any<String>,
2025-10-12T01:28:57.1426227Z     -       "date": Any<String>,
2025-10-12T01:28:57.1426960Z     -       "description": "",
2025-10-12T01:28:57.1427631Z     -       "id": "1",
2025-10-12T01:28:57.1428244Z     -       "title": "E",
2025-10-12T01:28:57.1429156Z     -     },
2025-10-12T01:28:57.1429693Z     -   ],
2025-10-12T01:28:57.1430428Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:28:57.1431159Z       }
2025-10-12T01:28:57.1443357Z 
2025-10-12T01:28:57.1444740Z     [0m [90m 33 |[39m     [33m;[39m(createAdminSupabaseClient [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockReturnValue(admin)
2025-10-12T01:28:57.1445956Z      [90m 34 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m()
2025-10-12T01:28:57.1448316Z     [31m[1m>[22m[39m[90m 35 |[39m     expect(res)[33m.[39mtoEqual({ events[33m:[39m [{ id[33m:[39m [32m'1'[39m[33m,[39m title[33m:[39m [32m'E'[39m[33m,[39m description[33m:[39m [32m''[39m[33m,[39m date[33m:[39m expect[33m.[39many([33mString[39m)[33m,[39m createdAt[33m:[39m expect[33m.[39many([33mString[39m) }] })
2025-10-12T01:28:57.1450020Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:28:57.1450490Z      [90m 36 |[39m   })
2025-10-12T01:28:57.1450938Z      [90m 37 |[39m
2025-10-12T01:28:57.1451980Z      [90m 38 |[39m   it([32m'POST returns 401 when not admin'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
2025-10-12T01:28:57.1452515Z 
2025-10-12T01:28:57.1452835Z       at Object.toEqual (__tests__/api.admin.events.test.ts:35:17)
2025-10-12T01:28:57.1453228Z 
2025-10-12T01:28:57.2286674Z FAIL __tests__/api.admin.users.test.ts
2025-10-12T01:28:57.2287647Z   ● admin users api › computes metrics correctly
2025-10-12T01:28:57.2287977Z 
2025-10-12T01:28:57.2288343Z     TypeError: Cannot read properties of undefined (reading 'length')
2025-10-12T01:28:57.2288795Z 
2025-10-12T01:28:57.2289510Z     [0m [90m 41 |[39m     [36mconst[39m req [33m=[39m { url[33m:[39m [32m'https://example.com/?eventId=e1'[39m }
2025-10-12T01:28:57.2290598Z      [90m 42 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mGET[39m(req)
2025-10-12T01:28:57.2292065Z     [31m[1m>[22m[39m[90m 43 |[39m     expect(res[33m.[39musers[33m.[39mlength)[33m.[39mtoBe([35m1[39m)
2025-10-12T01:28:57.2292971Z      [90m    |[39m                      [31m[1m^[22m[39m
2025-10-12T01:28:57.2293910Z      [90m 44 |[39m     expect(res[33m.[39mmetrics[33m.[39mtotalUsers)[33m.[39mtoBe([35m1[39m)
2025-10-12T01:28:57.2294617Z      [90m 45 |[39m   })
2025-10-12T01:28:57.2295007Z      [90m 46 |[39m })[0m
2025-10-12T01:28:57.2295236Z 
2025-10-12T01:28:57.2295561Z       at Object.length (__tests__/api.admin.users.test.ts:43:22)
2025-10-12T01:28:57.2295960Z 
2025-10-12T01:28:57.2760277Z PASS __tests__/userFlow.test.tsx
2025-10-12T01:28:57.4477339Z PASS __tests__/lib.auth.test.ts
2025-10-12T01:28:57.4767904Z FAIL __tests__/api.register.test.ts
2025-10-12T01:28:57.4774328Z   ● POST /api/register › returns 404 when no events found
2025-10-12T01:28:57.4776729Z 
2025-10-12T01:28:57.4778577Z     expect(received).toEqual(expected) // deep equality
2025-10-12T01:28:57.4779530Z 
2025-10-12T01:28:57.4780033Z     - Expected  - 1
2025-10-12T01:28:57.4780672Z     + Received  + 1
2025-10-12T01:28:57.4780875Z 
2025-10-12T01:28:57.4780997Z       Object {
2025-10-12T01:28:57.4781346Z     -   "error": "No events found",
2025-10-12T01:28:57.4782057Z     +   "error": "Supabase admin client not configured",
2025-10-12T01:28:57.4782498Z       }
2025-10-12T01:28:57.4782647Z 
2025-10-12T01:28:57.4783719Z     [0m [90m 38 |[39m     [36mconst[39m req [33m=[39m { json[33m:[39m [36masync[39m () [33m=>[39m ({ firstName[33m:[39m [32m'A'[39m[33m,[39m lastName[33m:[39m [32m'B'[39m }) }
2025-10-12T01:28:57.4784926Z      [90m 39 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m [33mPOST[39m(req)
2025-10-12T01:28:57.4785992Z     [31m[1m>[22m[39m[90m 40 |[39m     expect(res)[33m.[39mtoEqual({ error[33m:[39m [32m'No events found'[39m })
2025-10-12T01:28:57.4786814Z      [90m    |[39m                 [31m[1m^[22m[39m
2025-10-12T01:28:57.4787267Z      [90m 41 |[39m   })
2025-10-12T01:28:57.4787879Z      [90m 42 |[39m })
2025-10-12T01:28:57.4788218Z      [90m 43 |[39m[0m
2025-10-12T01:28:57.4788419Z 
2025-10-12T01:28:57.4788703Z       at Object.toEqual (__tests__/api.register.test.ts:40:17)
2025-10-12T01:28:57.4789066Z 
2025-10-12T01:28:57.5317670Z PASS __tests__/lib.supabase.test.ts
2025-10-12T01:28:57.6986747Z PASS __tests__/middleware.test.ts
2025-10-12T01:28:57.6993539Z PASS __tests__/api.events.test.ts
2025-10-12T01:28:57.7266680Z PASS __tests__/utils.session.test.ts
2025-10-12T01:28:57.7501717Z 
2025-10-12T01:28:57.7507308Z Test Suites: 4 failed, 6 passed, 10 total
2025-10-12T01:28:57.7508098Z Tests:       5 failed, 27 passed, 32 total
2025-10-12T01:28:57.7508615Z Snapshots:   0 total
2025-10-12T01:28:57.7508984Z Time:        2.011 s
2025-10-12T01:28:57.7509357Z Ran all test suites.
2025-10-12T01:28:57.8168409Z ##[error]Process completed with exit code 1.
2025-10-12T01:28:57.8267804Z Post job cleanup.
2025-10-12T01:28:57.9245119Z [command]/usr/bin/git version
2025-10-12T01:28:57.9283303Z git version 2.51.0
2025-10-12T01:28:57.9341281Z Temporarily overriding HOME='/home/runner/work/_temp/42283ecc-3b56-486d-b14e-fbfbff6b0f6d' before making global git config changes
2025-10-12T01:28:57.9343166Z Adding repository directory to the temporary git global config as a safe directory
2025-10-12T01:28:57.9395641Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/simple-scavenger-hunt/simple-scavenger-hunt
2025-10-12T01:28:57.9435916Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-12T01:28:57.9471869Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-12T01:28:57.9704510Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-12T01:28:57.9726830Z http.https://github.com/.extraheader
2025-10-12T01:28:57.9739399Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-10-12T01:28:57.9772514Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-12T01:28:58.0108562Z Cleaning up orphan processes
